name: tvheadend-morphis
version: v4.3-1
summary: Tvheadend is a TV streaming server and digital video recorder
description: |
  Tvheadend is a TV streaming server and recorder for Linux, FreeBSD
  and Android supporting DVB-S, DVB-S2, DVB-C, DVB-T, ATSC, ISDB-T,
  IPTV, SAT>IP and HDHomeRun as input sources.

  Tvheadend offers the HTTP (VLC, MPlayer), HTSP (Kodi, Movian) and
  SAT>IP streaming.

  Multiple EPG sources are supported (over-the-air DVB and ATSC
  including OpenTV DVB extensions, XMLTV, PyXML).

  The Analog video (V4L) is supported directly up to version 3.4.
  In recent version, the pipe:// source (in IPTV network) might be
  used to obtain the MPEG-TS stream generated by ffmpeg/libav from
  a V4L device.

  The code is hosted at github https://github.com/tvheadend/tvheadend.
grade: stable
confinement: devmode

apps:
  tvheadend:
    command: tvheadend.wrapper
    daemon: simple

parts:
  common:
    plugin: dump
    source: snap
    filesets:
      wrappers:
        - tvheadend.wrapper
    prime:
      - $wrappers
  tvheadend:
    plugin: autotools
    source: .
    build-packages:
      - build-essential
      - pkg-config
      - libssl-dev
      - bzip2
      - wget
      - libavahi-client-dev
      - zlib1g-dev
      - libavcodec-dev
      - libavutil-dev
      - libavformat-dev
      - libswscale-dev
      - libavresample-dev
